<div fxLayout="row" fxLayoutAlign="center">
  <div fxFlex="100" class="cont">
    <form [formGroup]="registerForm" (ngSubmit)="submitForm()" novalidate>
      <md-input-container class="fw block">
        <md-icon class="input-icon loading" *ngIf="registerForm.controls.username.pending"><i class="fa fa-circle-o-notch fa-spin"></i></md-icon>
        <md-icon class="input-icon valid" *ngIf="registerForm.controls.username.valid"><i class="fa fa-check" aria-hidden="true"></i></md-icon>
        <md-icon class="input-icon invalid" *ngIf="registerForm.controls.username.errors?.isNotUnique"><i class="fa fa-times" aria-hidden="true"></i></md-icon>
        <input mdInput placeholder="Username" formControlName="username">
        <md-error *ngIf="registerForm.controls.username.errors?.isNotUnique">This username is already taken</md-error>
      </md-input-container>
      <md-input-container class="fw block">
        <input mdInput placeholder="Email" formControlName="email">
        <md-error *ngIf="registerForm.controls.email.errors?.emailInvalid">Email is not valid</md-error>
      </md-input-container>
      <div fxLayout="row">
        <div fxFlex="70">
          <div formGroupName="passwords">
            <md-input-container class="fw block">
              <input mdInput placeholder="Password" formControlName="password">
              <md-error *ngIf="registerForm.controls.passwords.errors?.passwordMismatch && registerForm.controls.passwords.controls.password.touched && registerForm.controls.passwords.controls.passwordConfirm.touched">
                Password must be equal
              </md-error>
            </md-input-container>
            <md-input-container class="fw block">
              <input mdInput placeholder="Confirm password" formControlName="passwordConfirm">
            </md-input-container>
          </div>
        </div>
        <div fxFlex="30" class="password-hints">
          Password must:
          <ul>
            <li [inputHint]="!registerForm.controls.passwords.controls.password.errors?.tooShort">
              Be at least 8 chars long
            </li>
            <li [inputHint]="!registerForm.controls.passwords.controls.password.errors?.noSpecialChars">
              Have at least one special char
            </li>
            <li [inputHint]="!registerForm.controls.passwords.controls.password.errors?.noCapitalLetter">
              Have at least one capital letter
            </li>
          </ul>
        </div>
      </div>
      <div fxLayout="row" fxLayoutAlign="center">
        <div fxFlex="50">
          <button md-raised-button type="submit" [disabled]="!registerForm.valid">Register</button>
        </div>
      </div>
    </form>
  </div>
</div>
